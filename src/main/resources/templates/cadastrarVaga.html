<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">

<head>
<title>Cadastrar Vaga</title>
</head>

<body>
	<section layout:fragment="conteudo">

		<div class="titulo">
			<h2>Cadastro de Vagas</h2>
		</div>

		<form method="post" th:action=@{/vagas} th:object="${vaga}">

			<div class="alert alert-success" role="alert"
				th:if="${!#strings.isEmpty(mensagem)}">
				<span>Salvo com sucesso!</span>
			</div>
			
			<div class="alert alert-danger" th:if="${#fields.hasAnyErrors()}">
				<div th:each="detailedError : ${#fields.detailedErrors()}">
					<span th:text="${detailedError.message}"></span>
				</div>
			</div>
  
			<div class="form-group"  th:classappend="${#fields.hasErrors('codigoVaga')} ? invalid" >
				<label for="codigoVaga">Código da vaga</label> 
				<input type="text"class="form-control" id="codigoVaga" name="codigoVaga"
					placeholder="xxx" th:field="*{codigoVaga}">
			</div>
			<div class="form-group" th:classappend="${#fields.hasErrors('descricaoVaga')} ? invalid">
				<label for="descricaoVaga">Descrição da vaga</label>
				 <input type="text"	class="form-control" id="descricaoVaga" name="descricaoVaga"
					placeholder="Descricao da vaga" th:field="*{descricaoVaga}">
			</div>
			<div class="form-group" th:classappend="${#fields.hasErrors('qtdVaga')} ? invalid">
				<label for="qtdVaga">Quantidade de vagas</label>
				 <input type="number" class="form-control" id="qtdVaga" name="qtdVaga" 
					 min="1" placeholder="Quantidade de vagas" th:field="*{qtdVaga}">
			</div>
			<div class="form-group"
				th:classappend="${#fields.hasErrors('tecnologias')} ? invalid">
				<label for="tecnologias" class="control-label">Tecnologias</label> 
				<select
					class="custom-select" th:field="*{tecnologias}" multiple="multiple">
					<option th:each="tecnologiaSelected : ${tecnologiaLista}"
						th:value="${tecnologiaSelected.id}"
						th:text="${tecnologiaSelected.nome}"></option>
				</select>
			</div>
			<div class="form-group"
				th:classappend="${#fields.hasErrors('projeto')} ? invalid">
				<label for="projeto">Projeto</label>
				 <input type="text"	class="form-control" id="projeto" name="projeto"
					placeholder="Projeto " th:field="*{projeto}">
			</div>
			<div class="form-group">
				<button type="submit" class="btn btn-outline-primary btn-lg">Cadastrar</button>
			</div>
		</form>

	</section>
</body>
</html>